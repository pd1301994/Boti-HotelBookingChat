version: '3.1'
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
intents:
- provide_name
- provide_surname
- start_booking


entities:
- month
- day
- name
- surname
forms:
  booking_form:
    required_slots:
    - month
    - day
    - name
    - surname
slots:
  month:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: month
  day:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: day
  name:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: name
  surname:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: surname
  
responses:
  utter_ask_name:
  - text: What is your name?
  utter_ask_surname:
  - text: What is your surname?
  utter_say_name:
  - text: Your name is {name}
  utter_say_surname:
  - text: Your surname is {surname}
  utter_ask_month:
  - text: 'Tell me the month :) '
    buttons:
    - title: January
      payload: '/start_booking{{"month": "January"}}'
    - title: February
      payload: '/start_booking{{"month": "February"}}'
    - title: March
      payload: '/start_booking{{"month": "March"}}'
  utter_ask_day:
  - text: Hello! Which Day.
    buttons:
    - title: '1'
      payload: '/start_booking{{"day": "1"}}'
    - title: '2'
      payload: '/start_booking{{"day": "2"}}'
    - title: '3'
      payload: '/start_booking{{"day": "3"}}'


actions:
- validate_booking_form
- action_reset_slots
