version: '3.1'
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
intents:
- provide_name
- provide_surname
- start_booking
entities:
- month
- day
- number_of_days
- number_of_guests
- name
- surname
forms:
  booking_form:
    required_slots:
    - month
    - day
    - number_of_days
    - number_of_guests
    - name
    - surname
slots:
  month:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: month
  day:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: day
  number_of_days:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: number_of_days
  number_of_guests:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: number_of_guests
  name:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: name
  surname:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: surname
  
responses:
  utter_ask_name:
  - text: What is your name?
  utter_ask_surname:
  - text: What is your surname?
  utter_say_name:
  - text: Your name is {name}
  utter_say_surname:
  - text: Your surname is {surname}
  utter_ask_month:
  - text: 'Tell me the month :) '
    buttons:
    - title: January
      payload: '/start_booking{{"month": "January"}}'
    - title: February
      payload: '/start_booking{{"month": "February"}}'
    - title: March
      payload: '/start_booking{{"month": "March"}}'
  utter_ask_day:
  - text: Hello! Which Day.
    buttons:
    - title: '1'
      payload: '/start_booking{{"day": "1"}}'
    - title: '2'
      payload: '/start_booking{{"day": "2"}}'
    - title: '3'
      payload: '/start_booking{{"day": "3"}}'
  utter_ask_number_of_days:
  - text: How long would you like to stay?.
    buttons:
    - title: '1'
      payload: '/start_booking{{"number_of_days": "1"}}'
    - title: '2'
      payload: '/start_booking{{"number_of_days": "2"}}'
    - title: '3'
      payload: '/start_booking{{"number_of_days": "3"}}'
    - title: '4'
      payload: '/start_booking{{"number_of_days": "4"}}'
    - title: '5'
      payload: '/start_booking{{"number_of_days": "5"}}'
    - title: '6'
      payload: '/start_booking{{"number_of_days": "6"}}'
  utter_ask_number_of_guests:
  - text: How long would you like to stay?.
    buttons:
    - title: '1'
      payload: '/start_booking{{"number_of_guests": "1"}}'
    - title: '2'
      payload: '/start_booking{{"number_of_guests": "2"}}'
    - title: '3'
      payload: '/start_booking{{"number_of_guests": "3"}}'
    - title: '4'
      payload: '/start_booking{{"number_of_guests": "4"}}'
    - title: '5'
      payload: '/start_booking{{"number_of_guests": "5"}}'
    - title: '6'
      payload: '/start_booking{{"number_of_guests": "6"}}'
    - title: '7'
      payload: '/start_booking{{"number_of_guests": "7"}}'


actions:
- validate_booking_form
- action_reset_slots
